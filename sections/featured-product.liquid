<section class="max-w-7xl mx-auto px-6 lg:px-10 py-16">
	<div class="flex items-center justify-between mb-8">
		<div>
			<h2 class="text-3xl md:text-4xl font-black italic uppercase tracking-tight">Featured <span class="text-purple-400">Product</span></h2>
			<p class="text-white/40 text-xs md:text-sm mt-1">Single product picked from your catalog</p>
		</div>
	</div>

	{% assign product = section.settings.product %}
	{% if product == blank %}
		{% assign product = collections.all.products.first %}
	{% endif %}
	{% if product != blank %}
		<div class="grid grid-cols-1 md:grid-cols-2 gap-10 items-center">
			<a href="{{ product.url }}" class="block group">
				<div class="aspect-square rounded-3xl overflow-hidden bg-[#0a0a0a] border border-white/10">
					{% if product.featured_image %}
						<img
							src="{{ product.featured_image | image_url: width: 1200 }}"
							alt="{{ product.title | escape }}"
							loading="lazy"
							class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
						/>
					{% endif %}
				</div>
			</a>

			<div>
				<h3 class="text-2xl md:text-3xl font-black uppercase tracking-tight">{{ product.title }}</h3>
				<div class="mt-3 text-xs">
					{% render 'jdgm-rating', product: product %}
				</div>
				<p class="text-white/60 text-sm mt-3">{{ product.description | strip_html | truncate: 160 }}</p>

				<div class="mt-6 flex items-center gap-4">
					<span class="text-2xl font-mono font-bold">{{ product.price | money }}</span>
					{% if product.compare_at_price > product.price %}
						<span class="text-sm text-white/40 line-through">{{ product.compare_at_price | money }}</span>
					{% endif %}
				</div>

				<div class="mt-6 flex items-center gap-4">
					<a
						href="{{ product.url }}"
						class="bg-white text-black px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-gray-200 transition-colors"
					>
						View details
					</a>
					{% if product.available %}
						<form method="post" action="/cart/add" class="inline-flex">
							<input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}" />
							<button
								type="submit"
								class="border border-white/15 text-white px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:border-white/40 transition-colors"
							>
								Add to cart
							</button>
						</form>
					{% else %}
						<span class="text-[10px] uppercase tracking-widest text-white/40">Sold out</span>
					{% endif %}
				</div>
			</div>
		</div>
	{% else %}
		<div class="rounded-2xl border border-white/10 bg-white/5 p-6 text-center text-white/60">
			Select a product in the Theme Editor to show it here.
		</div>
	{% endif %}
</section>

{% schema %}
{
	"name": "Featured Product",
	"settings": [
		{
			"type": "product",
			"id": "product",
			"label": "Product"
		}
	],
	"presets": [
		{
			"name": "Featured Product",
			"category": "Products"
		}
	]
}
{% endschema %}
